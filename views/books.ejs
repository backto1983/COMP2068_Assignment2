<!--
 * File Name: books.ejs
 * Author Name: Henrique Oliveira
 * Website Name: Assignment 2 - NodeJS application using ExpressJS, MongoDB / Mongoose and EJS
 * File Description: collection style page, with information about books
-->

<% include partials/header %>
<main class="center">
    <h3 class="header text_b center" style="color: #000000">Books List</h3>        
        <ul class="collection" id="collection" style="margin-left: 25%; margin-right: 25%">
            <style>
            .collection .collection-item.avatar {
            min-height: 50px;
            color: #000000;         
            }    
            </style>
            <% for (let i = 0; i < books.length; i++) { %>  
                <li class="collection-item avatar">
                    <img src="<%= books[i].imageUrl %>" alt="Book Cover Image" class="circle">
                    <a href=<%= books[i].url %>><span class="title"><strong><%= books[i].title %></strong></span></a>                    
                    <p><%= books[i].author %> | 
                        <%= books[i].genre %> |
                        <%= books[i].pages %> pages
                    </p>
                    <% if (user) { %>
                    <a href="/admin/edit/<%= books[i]._id %>" class="secondary-content" style="margin-right: 5%"><i class="material-icons">edit</i></a>                    
                    <a href="/admin/delete/<%= books[i]._id %>" class="secondary-content" onclick="return confirm('Are you sure you want to delete this book?')"><i class="material-icons">delete</i></a>
                    <% } %>
                </li>              
            <% } %> 
        </ul>
        <% if (user) { %>
            <a href="/addBook" class="waves-effect waves-light btn-small black" style="margin-bottom: 1%">Add Book</a>
        <% } %>
</main>
<% include partials/footer %>  